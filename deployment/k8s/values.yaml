# Define a namespace that will be used for all resources.
namespace: ""

# Define a secret store providers.
secretStore:
  provider:
    pulumi:
      organization: anilibrary
      project: anilibrary-scraper
      environment: production
      accessToken:
        secretRef:
          name: anilibrary-scraper-access-token
          key: ANILIBRARY_SCRAPER_ACCESS_TOKEN

# Define the application settings.
app:
  name: ""
  environment: production
  deployment:
    replicaCount: 1
    imagePullPolicy: IfNotPresent
    image: anilibrary-scraper
    version: latest
    ports:
      http: 8080
      monitoring: 8081
    resources:
      requests:
        cpu: 500m
        memory: 256Mi
      limits:
        cpu: 2000m
        memory: 2Gi
  service:
    ports:
      http: 80
      monitoring: 81
  ingress:
    enabled: true
    className: nginx
    host: anilibrary-scraper.local
    tls:
      enabled: false
  scaledObject:
    enabled: true
    minReplicaCount: 1
    maxReplicaCount: 5
    triggers:
      - type: cpu
        metricType: Utilization
        metadata:
          value: "80"
      - type: memory
        metricType: Utilization
        metadata:
          value: "80"
